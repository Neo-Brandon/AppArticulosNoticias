{% extends 'base.html' %}

{% block titulo %}Artículos{% endblock titulo %}

{% block contenido %}
<div class="container mt-5">
    <h2 class="mb-4">Lista de Artículos</h2>
    
    {% for articulo in articulos %}
    <div class="card">
        <div class="card-header"></div>
        <span class="font-weight-bold">{{ articulo.titulo }}</span>&middot;
        <span class="text-muted">por {{ articulo.autor }} | {{ articulo.fecha }}</span>
    </div>
    <div class="card-body">
        <p>{{ articulo.contenido }}</p>
        <a href="{% url 'edicion_articulo' articulo.pk %}">Editar</a> | 
        <a href="{% url 'eliminacion_articulo' articulo.pk %}">Eliminar</a>
    </div>
    <div class="card-footer text-center text-muted">
        {% for comentario in articulo.comentario_set.all %}
        <p>
            <span class="font-weight-bold">
                {{ comentario.autor }} &middot;
            </span>
            {{ comentario }}
        </p>
        {% endfor %}
    </div>
    </div>

    <br>
    {% empty %}
    <p>No hay artículos disponibles.</p>
    {% endfor %}
</div>
{% endblock contenido %}
