{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block contenido %}

<div class="article-entry">
    <h2>{{ object.titulo }}</h2>
    <p>por {{ object.autor }} | {{ object.fecha }} </p>
    <p>{{ object.contenido }}</p>
</div>

<hr>

<h4>Comentarios</h4>
{% for comentario in object.comentario_set.all %}
    <p><strong>{{ comentario.usuario }}</strong> &middot; {{ comentario.contenido }}</p>
{% empty %}
    <p>No hay comentarios aún. ¡Sé el primero en comentar!</p>
{% endfor %}

<hr>

<h4>Agregar comentario</h4>
<form action="" method="post">
    {% csrf_token %}
    {{ form|crispy }}
    <button class="btn btn-success ml-2" type="submit">Guardar comentario</button>
</form>

<p>
    <a href="{% url 'edicion_articulo' object.pk %}">Editar</a> | 
    <a href="{% url 'eliminacion_articulo' object.pk %}">Eliminar</a>
</p>

<p>Volver a <a href="{% url 'lista_articulos' %}">Todos los artículos</a></p>

{% endblock contenido %}
